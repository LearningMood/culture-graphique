---
export interface Props {
  bgColor?: string;
  bgImage?: string;
  textColor?: string;
  height?: 'small' | 'medium' | 'large';
}

const { bgColor, bgImage, textColor = 'white', height = 'medium' } = Astro.props;

const heights = { small: '30vh', medium: '50vh', large: '70vh' };

const style = {
  ...(bgColor && { backgroundColor: bgColor }),
  ...(bgImage && { backgroundImage: `url(${bgImage})` }),
  color: textColor,
  minHeight: heights[height]
};
---

<div class="bandeau col-full" style={style}>
  <div class="bandeau__content">
    <slot />
  </div>
</div>

<style lang="scss">
.bandeau {
  display: flex;
  align-items: center;
  justify-content: center;
  background-size: cover;
  background-position: center;
  position: relative;
  margin-block: space(8);
  
  // Overlay si image de fond
  &[style*="background-image"]::before {
    content: '';
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.4);
    z-index: 1;
  }
  
  &__content {
    position: relative;
    z-index: 2;
    text-align: center;
    padding: space(8);
    max-width: 60ch;
    
    > * {
      margin-block: space(2);
    }
  }
}
</style>
