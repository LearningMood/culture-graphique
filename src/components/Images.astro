---
// ============================================
// Images.astro - Rangée d'images
// ============================================
import Row from './Row.astro';
import Col from './Col.astro';

export interface Props {
  cols?: number;      // Nombre de colonnes occupées (12, 14, 20...)
  count?: number;     // Nombre d'images (pour grid automatique)
}

const { cols = 18, count = 1 } = Astro.props;
const start = Math.ceil((24 - cols) / 2) + 1;
---

<Row>
  <Col span={cols} start={start} spanMd={22}>
    <div class="images-grid" style={`--img-count: ${count}`}>
      <slot />
    </div>
  </Col>
</Row>

<style lang="scss">
.images-grid {
  display: grid;
  gap: space(6);
  grid-template-columns: repeat(var(--img-count), 1fr);
  
  @include mq-max(md) {
    grid-template-columns: 1fr;
  }
  
  img {
    width: 100%;
    height: auto;
    border-radius: space(2);
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  }
}
</style>